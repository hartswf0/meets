<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>Dark Matter Meets Design // Split-Screen Matchup</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Inter:wght@400;600;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --bg: #070a12;
            --ink: #e8eef7;
            --muted: rgba(232, 238, 247, .72);
            --panel: rgba(255, 255, 255, .06);
            --border: rgba(255, 255, 255, .12);
            --shadow: 0 18px 55px rgba(0, 0, 0, .55);

            --warm0: #2a1f12;
            --warm1: #6a4f1e;
            --warm2: #caa84a;
            --warmAccent: #ffd36b;
            --cool0: #0b1428;
            --cool1: #173a6b;
            --cool2: #85b7ff;
            --coolAccent: #59d5ff;

            --beltW: 118px;
            --beltH: 92px;

            --radius: 22px;
            --ease: cubic-bezier(.2, .9, .2, 1);

            --safeT: env(safe-area-inset-top);
            --safeB: env(safe-area-inset-bottom);
            --safeL: env(safe-area-inset-left);
            --safeR: env(safe-area-inset-right);
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            color: var(--ink);
            background: radial-gradient(1200px 900px at 50% 20%, rgba(255, 255, 255, .06), transparent 60%),
                radial-gradient(800px 600px at 20% 80%, rgba(99, 102, 241, .08), transparent 55%),
                radial-gradient(900px 700px at 80% 80%, rgba(245, 158, 11, .08), transparent 55%),
                var(--bg);
            overflow: hidden;
            /* no scrolling */
        }

        .app {
            height: 100svh;
            padding: calc(16px + var(--safeT)) calc(16px + var(--safeR)) calc(16px + var(--safeB)) calc(16px + var(--safeL));
            position: relative;
        }

        /* Top micro-controls (kept tiny; still one-viewport) */
        .topbar {
            position: absolute;
            top: calc(10px + var(--safeT));
            left: calc(12px + var(--safeL));
            right: calc(12px + var(--safeR));
            display: flex;
            align-items: center;
            justify-content: space-between;
            pointer-events: none;
            /* keep UI focus on matchup */
            opacity: .9;
        }

        .brand {
            pointer-events: auto;
            display: flex;
            gap: 10px;
            align-items: baseline;
            user-select: none;
        }

        .brand .title {
            font-family: Cinzel, serif;
            letter-spacing: .12em;
            text-transform: uppercase;
            font-size: 12px;
            color: rgba(232, 238, 247, .9);
        }

        .brand .sub {
            font-size: 12px;
            color: rgba(232, 238, 247, .55);
            letter-spacing: .04em;
        }

        .controls {
            pointer-events: auto;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .pill {
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .04);
            color: rgba(232, 238, 247, .82);
            border-radius: 999px;
            padding: 8px 10px;
            font-size: 12px;
            display: flex;
            gap: 8px;
            align-items: center;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
            cursor: pointer;
        }

        .pill:focus-visible {
            outline: 3px solid rgba(89, 213, 255, .45);
            outline-offset: 2px
        }

        .pill .dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: rgba(255, 255, 255, .35);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, .08);
        }

        /* Arena grid */
        .arena {
            height: 100%;
            display: grid;
            grid-template-columns: 1fr var(--beltW) 1fr;
            gap: 0;
            border-radius: calc(var(--radius) + 10px);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, .10);
            box-shadow: var(--shadow);
            position: relative;
            isolation: isolate;
        }

        .side {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 18px;
            min-width: 0;
        }

        /* Left (warm) / Right (cool) background halves */
        .side.left {
            background:
                radial-gradient(900px 700px at 25% 20%, rgba(255, 211, 107, .20), transparent 60%),
                radial-gradient(800px 650px at 75% 80%, rgba(202, 168, 74, .10), transparent 60%),
                linear-gradient(135deg, rgba(42, 31, 18, 1), rgba(20, 16, 12, 1));
        }

        .side.right {
            background:
                radial-gradient(900px 700px at 75% 20%, rgba(89, 213, 255, .22), transparent 60%),
                radial-gradient(800px 650px at 25% 80%, rgba(133, 183, 255, .10), transparent 60%),
                linear-gradient(225deg, rgba(11, 20, 40, 1), rgba(8, 12, 22, 1));
        }

        .bleed {
            position: absolute;
            inset: -1px;
            opacity: .9;
            pointer-events: none;
            mix-blend-mode: screen;
            filter: blur(0px);
        }

        .side.left .bleed {
            background:
                linear-gradient(90deg, rgba(255, 211, 107, .18), transparent 55%),
                radial-gradient(500px 400px at 20% 50%, rgba(255, 211, 107, .12), transparent 70%);
        }

        .side.right .bleed {
            background:
                linear-gradient(270deg, rgba(89, 213, 255, .18), transparent 55%),
                radial-gradient(500px 400px at 80% 50%, rgba(89, 213, 255, .12), transparent 70%);
        }

        /* Belt divider */
        .belt {
            position: relative;
            background:
                linear-gradient(180deg, rgba(255, 255, 255, .10), rgba(255, 255, 255, .04)),
                radial-gradient(120px 240px at 50% 40%, rgba(255, 255, 255, .11), transparent 70%),
                rgba(0, 0, 0, .35);
            border-left: 1px solid rgba(255, 255, 255, .12);
            border-right: 1px solid rgba(255, 255, 255, .12);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .belt::before {
            content: "";
            position: absolute;
            inset: 10px 14px;
            border-radius: 18px;
            border: 1px solid rgba(255, 255, 255, .16);
            background:
                radial-gradient(80px 90px at 50% 30%, rgba(255, 211, 107, .30), transparent 70%),
                radial-gradient(80px 90px at 50% 70%, rgba(89, 213, 255, .30), transparent 70%),
                linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .02));
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .35);
            opacity: .95;
        }

        .beltBtn {
            position: relative;
            z-index: 2;
            width: calc(var(--beltW) - 22px);
            height: calc(100% - 30px);
            border: 0;
            background: transparent;
            color: var(--ink);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            padding: 0 8px;
            user-select: none;
            touch-action: pan-y;
            /* allow vertical page gestures elsewhere; belt handles tap/swipe */
        }

        .beltBtn:focus-visible {
            outline: 3px solid rgba(255, 255, 255, .35);
            outline-offset: 6px;
            border-radius: 18px
        }

        .medallion {
            width: 58px;
            height: 58px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, .22);
            background:
                radial-gradient(18px 18px at 30% 30%, rgba(255, 255, 255, .20), transparent 70%),
                radial-gradient(50px 60px at 50% 55%, rgba(0, 0, 0, .35), rgba(0, 0, 0, .15)),
                linear-gradient(135deg, rgba(255, 211, 107, .22), rgba(89, 213, 255, .18));
            box-shadow:
                0 16px 35px rgba(0, 0, 0, .45),
                inset 0 0 0 1px rgba(0, 0, 0, .35);
            display: grid;
            place-items: center;
            position: relative;
            overflow: hidden;
        }

        .medallion svg {
            opacity: .95;
            filter: drop-shadow(0 10px 14px rgba(0, 0, 0, .35))
        }

        .matchId {
            font-family: Cinzel, serif;
            letter-spacing: .18em;
            text-transform: uppercase;
            font-size: 12px;
            opacity: .92;
        }

        .beltHint {
            font-size: 11px;
            color: rgba(232, 238, 247, .62);
            letter-spacing: .02em;
            text-align: center;
            line-height: 1.2;
        }

        .beltPulse {
            position: absolute;
            inset: 0;
            pointer-events: none;
            background: radial-gradient(240px 340px at 50% 40%, rgba(255, 255, 255, .06), transparent 65%);
            animation: beltPulse 2.8s var(--ease) infinite;
            opacity: .9;
            mix-blend-mode: screen;
        }

        @keyframes beltPulse {

            0%,
            100% {
                transform: translateY(0);
                opacity: .85
            }

            50% {
                transform: translateY(-6px);
                opacity: 1
            }
        }

        /* Fighter card */
        .card {
            width: min(520px, 100%);
            border-radius: var(--radius);
            border: 1px solid rgba(255, 255, 255, .14);
            background: linear-gradient(180deg, rgba(255, 255, 255, .08), rgba(255, 255, 255, .04));
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            box-shadow: 0 24px 60px rgba(0, 0, 0, .45);
            overflow: hidden;
            transform: translateZ(0);
            transition: transform 220ms var(--ease), box-shadow 220ms var(--ease), filter 220ms var(--ease);
            position: relative;
            min-height: 340px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover {
            transform: scale(1.018);
            box-shadow: 0 30px 80px rgba(0, 0, 0, .55)
        }

        .card:focus-within {
            outline: 2px solid rgba(255, 255, 255, .30);
            outline-offset: 4px
        }

        .cardHeader {
            padding: 18px 18px 0 18px;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 12px;
        }

        .fighterName {
            font-family: Cinzel, serif;
            text-transform: uppercase;
            letter-spacing: .08em;
            font-size: clamp(18px, 2.2vw, 26px);
            line-height: 1.05;
            margin: 0 0 6px 0;
            color: rgba(255, 255, 255, .92);
        }

        .theoryType {
            margin: 0;
            color: rgba(232, 238, 247, .68);
            font-size: 13px;
            letter-spacing: .02em;
        }

        .scoreBlock {
            text-align: right;
            min-width: 120px;
        }

        .score {
            font-size: clamp(38px, 4vw, 54px);
            font-weight: 800;
            letter-spacing: -0.04em;
            line-height: 1;
            margin: 0;
        }

        .scoreSub {
            margin: 6px 0 0 0;
            font-size: 12px;
            color: rgba(232, 238, 247, .60);
            letter-spacing: .12em;
            text-transform: uppercase;
        }

        .cardBody {
            padding: 14px 18px 18px 18px;
            display: grid;
            gap: 12px;
        }

        .label {
            font-size: 11px;
            letter-spacing: .16em;
            text-transform: uppercase;
            color: rgba(232, 238, 247, .60);
            margin-bottom: 6px;
        }

        .attrs {
            margin: 0;
            padding-left: 16px;
            color: rgba(232, 238, 247, .84);
            line-height: 1.35;
            font-size: 14px;
        }

        .attrs li {
            margin: 4px 0;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .cardFooter {
            padding: 0 18px 18px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .verdict {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, .14);
            background: rgba(0, 0, 0, .18);
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
            text-transform: uppercase;
            letter-spacing: .16em;
            font-size: 12px;
        }

        .verIcon {
            width: 10px;
            height: 10px;
            border-radius: 999px;
            background: rgba(255, 255, 255, .35);
            box-shadow: 0 0 0 4px rgba(255, 255, 255, .08);
            flex: 0 0 auto;
        }

        .stamp {
            font-size: 12px;
            color: rgba(232, 238, 247, .58);
            letter-spacing: .02em;
            white-space: nowrap;
        }

        /* Winner vs Loser styling */
        .winnerGlow {
            border-color: rgba(255, 255, 255, .18);
            box-shadow:
                0 28px 75px rgba(0, 0, 0, .55),
                0 0 0 1px rgba(255, 255, 255, .06),
                0 0 42px rgba(255, 255, 255, .10);
        }

        .winnerGlow.leftWin {
            box-shadow:
                0 28px 75px rgba(0, 0, 0, .55),
                0 0 0 1px rgba(255, 211, 107, .18),
                0 0 56px rgba(255, 211, 107, .16);
        }

        .winnerGlow.rightWin {
            box-shadow:
                0 28px 75px rgba(0, 0, 0, .55),
                0 0 0 1px rgba(89, 213, 255, .18),
                0 0 56px rgba(89, 213, 255, .18);
        }

        .loserDim {
            filter: grayscale(.35) saturate(.7) brightness(.87);
            opacity: .86;
        }

        .loserDim::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, .12);
            pointer-events: none;
        }

        .cardToneBar {
            position: absolute;
            inset: 0 0 auto 0;
            height: 6px;
            background: linear-gradient(90deg, rgba(255, 211, 107, .0), rgba(255, 211, 107, .55));
            opacity: .95;
        }

        .right .cardToneBar {
            background: linear-gradient(90deg, rgba(89, 213, 255, .55), rgba(89, 213, 255, .0));
        }

        /* Verdict colors */
        .vLIGHT {
            border-color: rgba(89, 213, 255, .28);
            box-shadow: 0 0 0 1px rgba(89, 213, 255, .08), 0 0 24px rgba(89, 213, 255, .12);
        }

        .vLIGHT .verIcon {
            background: rgba(110, 255, 205, .9);
            box-shadow: 0 0 0 4px rgba(110, 255, 205, .15), 0 0 18px rgba(110, 255, 205, .25);
        }

        .vSHADOW {
            border-color: rgba(167, 139, 250, .22);
            box-shadow: 0 0 0 1px rgba(167, 139, 250, .07), 0 0 20px rgba(167, 139, 250, .10);
        }

        .vSHADOW .verIcon {
            background: rgba(167, 139, 250, .85);
            box-shadow: 0 0 0 4px rgba(167, 139, 250, .14), 0 0 16px rgba(167, 139, 250, .22);
        }

        .vVOID {
            border-color: rgba(239, 68, 68, .26);
            box-shadow: 0 0 0 1px rgba(239, 68, 68, .07), 0 0 22px rgba(239, 68, 68, .12);
        }

        .vVOID .verIcon {
            background: rgba(239, 68, 68, .9);
            box-shadow: 0 0 0 4px rgba(239, 68, 68, .14), 0 0 18px rgba(239, 68, 68, .24);
        }

        /* Load animations */
        .enterLeft {
            animation: enterLeft 520ms var(--ease) both;
        }

        .enterRight {
            animation: enterRight 520ms var(--ease) both;
        }

        @keyframes enterLeft {
            from {
                transform: translateX(-28px);
                opacity: 0
            }

            to {
                transform: translateX(0);
                opacity: 1
            }
        }

        @keyframes enterRight {
            from {
                transform: translateX(28px);
                opacity: 0
            }

            to {
                transform: translateX(0);
                opacity: 1
            }
        }

        @media (prefers-reduced-motion: reduce) {

            .beltPulse,
            .enterLeft,
            .enterRight {
                animation: none !important;
            }

            .card {
                transition: none !important;
            }
        }

        /* Mobile: stack, belt becomes horizontal */
        @media (max-width: 820px) {
            .arena {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr var(--beltH) 1fr;
            }

            .belt {
                border-left: none;
                border-right: none;
                border-top: 1px solid rgba(255, 255, 255, .12);
                border-bottom: 1px solid rgba(255, 255, 255, .12);
            }

            .belt::before {
                inset: 10px 12px;
            }

            .beltBtn {
                width: calc(100% - 24px);
                height: calc(var(--beltH) - 18px);
                flex-direction: row;
                justify-content: center;
                gap: 12px;
            }

            .beltHint {
                text-align: left
            }

            .medallion {
                width: 46px;
                height: 46px;
            }

            .scoreBlock {
                min-width: 104px;
            }

            .card {
                min-height: 300px;
            }
        }

        /* Modal */
        .modal {
            position: absolute;
            inset: 0;
            display: none;
            place-items: center;
            background: rgba(0, 0, 0, .55);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 50;
            padding: calc(20px + var(--safeT)) calc(18px + var(--safeR)) calc(20px + var(--safeB)) calc(18px + var(--safeL));
        }

        .modal[aria-hidden="false"] {
            display: grid;
        }

        .modalPanel {
            width: min(980px, 100%);
            border-radius: 26px;
            border: 1px solid rgba(255, 255, 255, .14);
            background: linear-gradient(180deg, rgba(255, 255, 255, .09), rgba(255, 255, 255, .05));
            box-shadow: 0 30px 90px rgba(0, 0, 0, .65);
            overflow: hidden;
        }

        .modalHead {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 16px 18px;
            border-bottom: 1px solid rgba(255, 255, 255, .12);
        }

        .modalTitle {
            margin: 0;
            font-family: Cinzel, serif;
            text-transform: uppercase;
            letter-spacing: .10em;
            font-size: 14px;
            color: rgba(255, 255, 255, .90);
        }

        .closeBtn {
            border: 1px solid rgba(255, 255, 255, .16);
            background: rgba(0, 0, 0, .18);
            color: rgba(232, 238, 247, .88);
            border-radius: 14px;
            padding: 10px 12px;
            cursor: pointer;
            font-size: 12px;
            letter-spacing: .12em;
            text-transform: uppercase;
        }

        .closeBtn:focus-visible {
            outline: 3px solid rgba(89, 213, 255, .45);
            outline-offset: 2px
        }

        .modalGrid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        .modalSide {
            padding: 16px 18px 18px 18px;
            min-width: 0;
        }

        .modalSide.left {
            background:
                radial-gradient(900px 700px at 30% 20%, rgba(255, 211, 107, .15), transparent 60%),
                rgba(0, 0, 0, .10);
            border-right: 1px solid rgba(255, 255, 255, .10);
        }

        .modalSide.right {
            background:
                radial-gradient(900px 700px at 70% 20%, rgba(89, 213, 255, .14), transparent 60%),
                rgba(0, 0, 0, .10);
        }

        .modalLine {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 10px;
        }

        .mName {
            font-family: Cinzel, serif;
            letter-spacing: .08em;
            text-transform: uppercase;
            font-size: 16px;
            margin: 0;
        }

        .mScore {
            font-weight: 800;
            letter-spacing: -.03em;
            font-size: 18px;
            margin: 0;
            opacity: .92;
        }

        .mType {
            margin: 0 0 12px 0;
            color: rgba(232, 238, 247, .70);
            font-size: 13px;
        }

        .mBlock {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, .10);
        }

        .mBlock p {
            margin: 6px 0;
            color: rgba(232, 238, 247, .84);
            line-height: 1.35;
            font-size: 14px;
        }

        @media (max-width: 820px) {
            .modalGrid {
                grid-template-columns: 1fr;
            }

            .modalSide.left {
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, .10);
            }
        }
    </style>
</head>

<body>
    <div class="app">
        <div class="topbar" aria-hidden="false">
            <div class="brand">
                <div class="title">Dark Matter Meets Design</div>
                <div class="sub">Split-screen wrestling interface</div>
            </div>
            <div class="controls">
                <button class="pill" id="prevBtn" type="button" aria-label="Previous match">
                    <span class="dot"></span> Prev
                </button>
                <button class="pill" id="nextBtn" type="button" aria-label="Next match">
                    <span class="dot"></span> Next
                </button>
            </div>
        </div>

        <main class="arena" aria-label="Matchup arena">
            <section class="side left" aria-label="Left fighter (Metis)">
                <div class="bleed" aria-hidden="true"></div>
                <article class="card enterLeft" id="leftCard" tabindex="0">
                    <div class="cardToneBar" aria-hidden="true"></div>
                    <header class="cardHeader">
                        <div>
                            <h2 class="fighterName" id="leftName">METIS</h2>
                            <p class="theoryType" id="leftType">Practical Knowledge • Roots • Repair</p>
                        </div>
                        <div class="scoreBlock">
                            <p class="score" id="leftScore">92</p>
                            <p class="scoreSub">Score / 100</p>
                        </div>
                    </header>

                    <div class="cardBody">
                        <div>
                            <div class="label">Key Attributes</div>
                            <ul class="attrs" id="leftAttrs">
                                <li>Embodied know-how under constraint</li>
                                <li>Local adaptation, lived feedback</li>
                                <li>Friction-friendly improvisation</li>
                            </ul>
                        </div>
                    </div>

                    <footer class="cardFooter">
                        <div class="verdict vLIGHT" id="leftVerdict">
                            <span class="verIcon" aria-hidden="true"></span>
                            <span>LIGHT</span>
                        </div>
                        <div class="stamp" id="leftStamp">Winner</div>
                    </footer>
                </article>
            </section>

            <div class="belt" aria-label="Center divider belt">
                <div class="beltPulse" aria-hidden="true"></div>

                <button class="beltBtn" id="beltBtn" type="button" aria-haspopup="dialog" aria-controls="compareModal">
                    <div class="medallion" aria-hidden="true">
                        <!-- simple “seed ↔ grid” glyph -->
                        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M12 3c3.6 2.1 6 5.2 6 8.7S15.6 19 12 21c-3.6-2-6-5.1-6-9.3C6 8 8.4 5.1 12 3Z"
                                stroke="rgba(255,255,255,.85)" stroke-width="1.4" />
                            <path d="M7 7h10M7 12h10M7 17h10" stroke="rgba(255,255,255,.65)" stroke-width="1.2"
                                stroke-linecap="round" />
                        </svg>
                    </div>
                    <div>
                        <div class="matchId" id="matchId">M12</div>
                        <div class="beltHint">Tap / swipe belt<br />for full comparison</div>
                    </div>
                </button>
            </div>

            <section class="side right" aria-label="Right fighter (Thin Plans)">
                <div class="bleed" aria-hidden="true"></div>
                <article class="card enterRight" id="rightCard" tabindex="0">
                    <div class="cardToneBar" aria-hidden="true"></div>
                    <header class="cardHeader">
                        <div>
                            <h2 class="fighterName" id="rightName">THIN PLANS</h2>
                            <p class="theoryType" id="rightType">Blueprint Schemes • Grids • Compliance</p>
                        </div>
                        <div class="scoreBlock">
                            <p class="score" id="rightScore">71</p>
                            <p class="scoreSub">Score / 100</p>
                        </div>
                    </header>

                    <div class="cardBody">
                        <div>
                            <div class="label">Key Attributes</div>
                            <ul class="attrs" id="rightAttrs">
                                <li>Legible metrics over lived reality</li>
                                <li>Top-down standardization</li>
                                <li>Optimization that eats its context</li>
                            </ul>
                        </div>
                    </div>

                    <footer class="cardFooter">
                        <div class="verdict vSHADOW" id="rightVerdict">
                            <span class="verIcon" aria-hidden="true"></span>
                            <span>SHADOW</span>
                        </div>
                        <div class="stamp" id="rightStamp">Loser</div>
                    </footer>
                </article>
            </section>
        </main>

        <!-- Comparison Modal -->
        <section class="modal" id="compareModal" role="dialog" aria-modal="true" aria-hidden="true"
            aria-label="Full comparison dialog">
            <div class="modalPanel" role="document">
                <div class="modalHead">
                    <h3 class="modalTitle" id="modalTitle">Match M12 • Full Comparison</h3>
                    <button class="closeBtn" type="button" id="closeModal">Close</button>
                </div>
                <div class="modalGrid">
                    <div class="modalSide left">
                        <div class="modalLine">
                            <p class="mName" id="mLeftName">METIS</p>
                            <p class="mScore" id="mLeftScore">92/100</p>
                        </div>
                        <p class="mType" id="mLeftType">Practical Knowledge • Roots • Repair</p>
                        <div class="mBlock">
                            <div class="label">Attributes</div>
                            <div id="mLeftAttrs"></div>
                        </div>
                        <div class="mBlock">
                            <div class="label">Verdict</div>
                            <p id="mLeftVerdict">LIGHT ✓ — carries context without collapsing it.</p>
                        </div>
                    </div>

                    <div class="modalSide right">
                        <div class="modalLine">
                            <p class="mName" id="mRightName">THIN PLANS</p>
                            <p class="mScore" id="mRightScore">71/100</p>
                        </div>
                        <p class="mType" id="mRightType">Blueprint Schemes • Grids • Compliance</p>
                        <div class="mBlock">
                            <div class="label">Attributes</div>
                            <div id="mRightAttrs"></div>
                        </div>
                        <div class="mBlock">
                            <div class="label">Verdict</div>
                            <p id="mRightVerdict">SHADOW — neat on paper, brittle in the wild.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        const matches = [
            {
                id: "M12",
                left: {
                    name: "METIS",
                    theoryType: "Practical Knowledge • Roots • Repair",
                    score: 92,
                    attrs: [
                        "Embodied know-how under constraint",
                        "Local adaptation, lived feedback",
                        "Friction-friendly improvisation"
                    ],
                    verdict: "LIGHT",
                    verdictLine: "LIGHT ✓ — carries context without collapsing it."
                },
                right: {
                    name: "THIN PLANS",
                    theoryType: "Blueprint Schemes • Grids • Compliance",
                    score: 71,
                    attrs: [
                        "Legible metrics over lived reality",
                        "Top-down standardization",
                        "Optimization that eats its context"
                    ],
                    verdict: "SHADOW",
                    verdictLine: "SHADOW — neat on paper, brittle in the wild."
                },
                winner: "left"
            },
            {
                id: "M13",
                left: {
                    name: "FIELD NOTES",
                    theoryType: "Situated Inquiry • Grain • Attention",
                    score: 88,
                    attrs: [
                        "Records anomalies instead of sanding them off",
                        "Treats failure as signal, not embarrassment",
                        "Builds with the material, not against it"
                    ],
                    verdict: "LIGHT",
                    verdictLine: "LIGHT ✓ — listens before it optimizes."
                },
                right: {
                    name: "POWERPOINT REALITY",
                    theoryType: "Narrative Control • Smoothness • KPI Theater",
                    score: 64,
                    attrs: [
                        "Converts complexity into a slide-sized lie",
                        "Uses gloss as proof",
                        "Mistakes legibility for truth"
                    ],
                    verdict: "VOID",
                    verdictLine: "VOID — high confidence, low contact with the world."
                },
                winner: "left"
            },
            {
                id: "M14",
                left: {
                    name: "PATCHWORK SYSTEMS",
                    theoryType: "Repair Culture • Modularity • Reuse",
                    score: 79,
                    attrs: [
                        "Small fixes that compound",
                        "Interfaces that tolerate the human",
                        "Resilience through redundancy"
                    ],
                    verdict: "SHADOW",
                    verdictLine: "SHADOW — strong bones, uneven polish."
                },
                right: {
                    name: "PERFECT SCHEMAS",
                    theoryType: "Universal Templates • Purity • Central Control",
                    score: 83,
                    attrs: [
                        "Beautiful structure, fragile adoption",
                        "Assumes compliance is free",
                        "Breaks when the edge cases breathe"
                    ],
                    verdict: "SHADOW",
                    verdictLine: "SHADOW — elegant, but demands a tame world."
                },
                winner: "right"
            }
        ];

        // DOM
        const el = (id) => document.getElementById(id);

        const leftCard = el("leftCard");
        const rightCard = el("rightCard");

        const beltBtn = el("beltBtn");
        const matchIdEl = el("matchId");

        const modal = el("compareModal");
        const closeModalBtn = el("closeModal");

        const prevBtn = el("prevBtn");
        const nextBtn = el("nextBtn");

        let idx = 0;

        function verdictClass(v) {
            if (v === "LIGHT") return "vLIGHT";
            if (v === "VOID") return "vVOID";
            return "vSHADOW";
        }

        function applyWinnerLoserStyling(match) {
            const leftWins = match.winner === "left";
            const rightWins = match.winner === "right";

            // reset
            leftCard.classList.remove("winnerGlow", "leftWin", "rightWin", "loserDim");
            rightCard.classList.remove("winnerGlow", "leftWin", "rightWin", "loserDim");

            if (leftWins) {
                leftCard.classList.add("winnerGlow", "leftWin");
                rightCard.classList.add("loserDim");
                el("leftStamp").textContent = "Winner";
                el("rightStamp").textContent = "Loser";
            } else {
                rightCard.classList.add("winnerGlow", "rightWin");
                leftCard.classList.add("loserDim");
                el("leftStamp").textContent = "Loser";
                el("rightStamp").textContent = "Winner";
            }
        }

        function animateCards() {
            leftCard.classList.remove("enterLeft");
            rightCard.classList.remove("enterRight");
            // force reflow to restart animation
            void leftCard.offsetWidth;
            leftCard.classList.add("enterLeft");
            rightCard.classList.add("enterRight");
        }

        function renderMatch(match) {
            matchIdEl.textContent = match.id;

            // Left
            el("leftName").textContent = match.left.name;
            el("leftType").textContent = match.left.theoryType;
            el("leftScore").textContent = String(match.left.score);
            el("leftAttrs").innerHTML = match.left.attrs.map(a => `<li>${escapeHTML(a)}</li>`).join("");

            // Right
            el("rightName").textContent = match.right.name;
            el("rightType").textContent = match.right.theoryType;
            el("rightScore").textContent = String(match.right.score);
            el("rightAttrs").innerHTML = match.right.attrs.map(a => `<li>${escapeHTML(a)}</li>`).join("");

            // Verdict badges
            const leftV = el("leftVerdict");
            leftV.className = `verdict ${verdictClass(match.left.verdict)}`;
            leftV.lastElementChild.textContent = match.left.verdict;

            const rightV = el("rightVerdict");
            rightV.className = `verdict ${verdictClass(match.right.verdict)}`;
            rightV.lastElementChild.textContent = match.right.verdict;

            applyWinnerLoserStyling(match);
            animateCards();

            // Modal content
            el("modalTitle").textContent = `Match ${match.id} • Full Comparison`;
            el("mLeftName").textContent = match.left.name;
            el("mLeftScore").textContent = `${match.left.score}/100`;
            el("mLeftType").textContent = match.left.theoryType;
            el("mLeftAttrs").innerHTML = match.left.attrs.map(a => `<p>• ${escapeHTML(a)}</p>`).join("");
            el("mLeftVerdict").textContent = match.left.verdictLine;

            el("mRightName").textContent = match.right.name;
            el("mRightScore").textContent = `${match.right.score}/100`;
            el("mRightType").textContent = match.right.theoryType;
            el("mRightAttrs").innerHTML = match.right.attrs.map(a => `<p>• ${escapeHTML(a)}</p>`).join("");
            el("mRightVerdict").textContent = match.right.verdictLine;
        }

        function escapeHTML(str) {
            return String(str)
                .replaceAll("&", "&amp;")
                .replaceAll("<", "&lt;")
                .replaceAll(">", "&gt;")
                .replaceAll('"', "&quot;")
                .replaceAll("'", "&#039;");
        }

        function openModal() {
            modal.setAttribute("aria-hidden", "false");
            // focus the close button for keyboard users
            closeModalBtn.focus({ preventScroll: true });
        }

        function closeModal() {
            modal.setAttribute("aria-hidden", "true");
            beltBtn.focus({ preventScroll: true });
        }

        // Belt click + swipe
        let startX = 0, startY = 0, tracking = false;

        beltBtn.addEventListener("pointerdown", (e) => {
            tracking = true;
            startX = e.clientX;
            startY = e.clientY;
            beltBtn.setPointerCapture?.(e.pointerId);
        });

        beltBtn.addEventListener("pointerup", (e) => {
            if (!tracking) return;
            tracking = false;

            const dx = e.clientX - startX;
            const dy = e.clientY - startY;

            // mobile: belt is horizontal; accept horizontal OR vertical swipe with intention
            const dist = Math.hypot(dx, dy);
            if (dist > 24) {
                openModal();
                return;
            }
            // otherwise treat as tap
            openModal();
        });

        beltBtn.addEventListener("click", (e) => {
            // pointerup already opens; prevent double-open jitter
            e.preventDefault();
        });

        // Modal close behaviors
        closeModalBtn.addEventListener("click", closeModal);
        modal.addEventListener("click", (e) => {
            if (e.target === modal) closeModal();
        });
        window.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && modal.getAttribute("aria-hidden") === "false") closeModal();
        });

        // Match nav
        prevBtn.addEventListener("click", () => {
            idx = (idx - 1 + matches.length) % matches.length;
            renderMatch(matches[idx]);
        });
        nextBtn.addEventListener("click", () => {
            idx = (idx + 1) % matches.length;
            renderMatch(matches[idx]);
        });

        // Initial render
        renderMatch(matches[idx]);
    </script>
</body>

</html>